---
description: リファクタリングを指示されたときに実行する。
alwaysApply: false
---
# 実行すること
このルールではソースコードのリファクタリングを行います。

# リファクタリングする際に確認すること
1. 同じ目的を持ったものは単一のクラス内に実装されているか。
2. メソッドの中に目的が不一致になっている処理が内包されていないか。
3. 命名が目的に沿った名前になっているか。
4. 不用意にネストされていないか。
5. 循環複雑度が5以下になっているか。

# 単体テストの作成
ユニットテストが存在しない場合はユニットテストを作成します。
単体テストはjestで実装します。

1. テストケースの一覧を準備する。
2. テストケースに問題がなければ、実装を開始する。
3. テストを実行する。
4. テスト結果でエラーがあれば内容を整理して報告を行う。
5. 報告への回答に応じてソースコードかテストケースの修正を行う。
6. 3.に戻る。

- ユニットテストは条件分岐網羅で実施します。
- 分岐条件はすべてのパターンをテストケースに含めます。
- 例外があれば例外発生時の挙動をテストケースに含めます。
- イテレータがあれば、0件、1件、複数件をテストケースに含めます。
- 正規表現のチェックがあれば、対象内のすべての文字種が受け入れられ、対象外のすべての文字種が弾かれることをテストケースに含めます。
